(this.webpackJsonpallanpichardo2020=this.webpackJsonpallanpichardo2020||[]).push([[0],{27:function(e,t,a){e.exports=a(50)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=(a(32),a(3)),i=a(4),s=a(1),u=a(5),d=a(6),m=(a(33),a(12)),h=(a(34),a(9)),p=a(11),v=a.n(p),f=a(23),b=a.n(f),j=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"sendEmail",value:function(e,t,a,n){fetch("http://localhost:3002/email",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({from:e,subject:t,message:a})}).then((function(e){return e.json()})).then((function(e){n(null,e)})).catch((function(e){n(e)}))}},{key:"fetchInfo",value:function(e){fetch("/data/info.json").then((function(e){return e.json()})).then((function(t){e&&e(null,t)})).catch((function(t){e&&e(t)}))}},{key:"fetchProjects",value:function(e){fetch("/data/projects.json").then((function(e){return e.json()})).then((function(t){e&&e(null,t)})).catch((function(t){e&&e(t)}))}},{key:"fetchProjectBySlug",value:function(e,t){this.fetchProjects((function(a,n){if(a)t&&t(a);else{for(var r=null,c=0;c<n.length;c++)if(v()(n[c].name)===e){r=n[c];break}t&&t(null,r)}}))}},{key:"getResourcePath",value:function(e,t){var a=window.innerWidth<=960?"lo":"hi";return b.a.join(e,a,t)}}]),e}(),E=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isWorkDropdownShowing:!1,projects:[]},n.workLink=r.a.createRef(),n.generateWorkDropdown=n.generateWorkDropdown.bind(Object(s.a)(n)),n.getDropdownOptions=n.getDropdownOptions.bind(Object(s.a)(n)),n.calculateDropdownPlacement=n.calculateDropdownPlacement.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"calculateDropdownPlacement",value:function(){var e=document.querySelector(".NavBar-dropdown");e.style.left="".concat(this.workLink.current.offsetLeft,"px"),e.style.top="".concat(this.workLink.current.offsetTop+this.workLink.current.offsetHeight,"px")}},{key:"generateWorkDropdown",value:function(){this.calculateDropdownPlacement();var e=this;j.fetchProjects((function(t,a){t?console.log(t):e.setState({projects:a})}))}},{key:"getDropdownOptions",value:function(){return this.state.projects.map((function(e){var t=v()(e.name),a="/projects/".concat(t);return r.a.createElement("div",{key:t},r.a.createElement(h.c,{exact:!0,to:a,activeClassName:"NavBar-active",isActive:function(e,a){return a.pathname.includes(t)}},e.name),r.a.createElement("br",null))}))}},{key:"componentDidMount",value:function(){this.generateWorkDropdown(),window.onresize=this.calculateDropdownPlacement}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"NavBar"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(h.c,{ref:this.workLink,exact:!0,to:"/",activeClassName:"NavBar-active",isActive:function(e,t){return"/"===t.pathname||t.pathname.includes("projects")},onMouseEnter:function(){e.state.isWorkDropdownShowing||e.setState({isWorkDropdownShowing:!0},(function(){document.querySelector(".NavBar-dropdown").style.visibility="visible"}))}},"\xa0Work\xa0"),r.a.createElement(h.c,{exact:!0,to:"/about",activeClassName:"NavBar-active"},"\xa0About\xa0"),r.a.createElement(h.c,{exact:!0,to:"/contact",activeClassName:"NavBar-active"},"\xa0Contact\xa0")),r.a.createElement("div",{ref:this.dropdown,className:"NavBar-dropdown",onPointerLeave:function(t){var a=document.querySelector(".NavBar-dropdown");e.state.isWorkDropdownShowing&&t.target===a&&e.setState({isWorkDropdownShowing:!1},(function(){a.style.visibility="hidden"}))}},this.getDropdownOptions()))}}]),a}(r.a.Component),k=Object(m.f)(E),y=(a(40),a(41),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={shouldUpdateBackground:!0},n.isActiveInView=n.isActiveInView.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"isActiveInView",value:function(){return 0===Math.floor(this.props.scrollPosition)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.isActiveInView()&&this.state.shouldUpdateBackground){var n=this;this.setState({shouldUpdateBackground:!1},(function(){n.props.onPanelInView&&n.props.onPanelInView(null)}))}else this.isActiveInView()||this.state.shouldUpdateBackground||this.setState({shouldUpdateBackground:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"IntroPanel"},r.a.createElement("h1",null,r.a.createElement("mark",null,"Hi, I'm Allan ",r.a.createElement("br",null),"and I'm a creative ",r.a.createElement("br",null),"technologist.")),r.a.createElement("span",{className:"material-icons"},"arrow_forward"))}}]),a}(r.a.Component)),w=(a(42),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={shouldUpdateBackground:!0},n.isActiveInView=n.isActiveInView.bind(Object(s.a)(n)),n.renderLink=n.renderLink.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"isActiveInView",value:function(){return 1===Math.floor(this.props.scrollPosition/this.props.index)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.isActiveInView()&&this.state.shouldUpdateBackground){var n=this;this.setState({shouldUpdateBackground:!1},(function(){n.props.onPanelInView&&n.props.onPanelInView(j.getResourcePath(n.props.project.media_dir,n.props.project.cover_video))}))}else this.isActiveInView()||this.state.shouldUpdateBackground||this.setState({shouldUpdateBackground:!0})}},{key:"renderLink",value:function(){var e=v()(this.props.project.name);return this.isActiveInView()?r.a.createElement(h.b,{to:"/projects/".concat(e)},r.a.createElement("h1",null,this.props.project.name)):r.a.createElement("span",null)}},{key:"render",value:function(){return r.a.createElement("div",{className:"ProjectPanel"},this.renderLink())}}]),a}(r.a.Component)),g=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={projects:null,scrollPosition:0},n.mainDiv=r.a.createRef(),n.getPanelStyles=n.getPanelStyles.bind(Object(s.a)(n)),n.renderProjects=n.renderProjects.bind(Object(s.a)(n)),n.handleScroll=n.handleScroll.bind(Object(s.a)(n)),n.handleWheel=n.handleWheel.bind(Object(s.a)(n)),n.handlePanelInView=n.handlePanelInView.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"handlePanelInView",value:function(e){this.props.onPanelInView&&this.props.onPanelInView(e)}},{key:"getScreenWidth",value:function(){return window.innerWidth}},{key:"getNumberPanels",value:function(){return this.state.projects?this.state.projects.length:1}},{key:"handleScroll",value:function(e){var t=e.target.scrollLeft+40;this.setState({scrollPosition:t/this.getScreenWidth()})}},{key:"handleWheel",value:function(e){this.mainDiv.current.scrollBy(e.deltaY,0)}},{key:"componentDidMount",value:function(){var e=this;j.fetchProjects((function(t,a){t?console.log(t):e.setState({projects:a})}))}},{key:"getPanelStyles",value:function(){var e="100vw";return this.state.projects&&this.state.projects.forEach((function(t){e="".concat(e," 100vw")})),{gridTemplateColumns:e="".concat(e," 37.5vw")}}},{key:"renderProjects",value:function(){var e=this;return(this.state.projects?this.state.projects:[]).map((function(t,a){return r.a.createElement("div",{className:"WorksOverview-panel",key:a},r.a.createElement(w,{onPanelInView:e.handlePanelInView,scrollPosition:e.state.scrollPosition,index:a+1,project:t}))}))}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.mainDiv,onWheel:this.handleWheel,onScroll:this.handleScroll,className:"WorksOverview",style:this.getPanelStyles()},r.a.createElement(y,{onPanelInView:this.handlePanelInView,scrollPosition:this.state.scrollPosition,index:0}),this.renderProjects(),r.a.createElement("div",null))}}]),a}(r.a.Component),P=(a(43),a(26)),O=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={projects:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=v()(this.props.match.params.name);j.fetchProjectBySlug(t,(function(a,n){a?console.log(a):e.setState({project:n,slug:t})}))}},{key:"render",value:function(){return this.state.project?r.a.createElement("div",{className:"ProjectDetails"},r.a.createElement(P.Helmet,null,r.a.createElement("title",null,"".concat(this.state.project.name," - Allan Pichardo")),r.a.createElement("meta",{name:"twitter:card",content:"summary"}),r.a.createElement("meta",{name:"twitter:site",content:"@allanpichardo"}),r.a.createElement("meta",{name:"twitter:creator",content:"@allanpichardo"}),r.a.createElement("meta",{property:"og:title",content:"".concat(this.state.project.name)}),r.a.createElement("meta",{property:"og:type",content:"article"}),r.a.createElement("meta",{property:"og:url",content:"https://www.allanpichardo.com/projects/".concat(this.state.slug)}),r.a.createElement("meta",{property:"og:description",content:this.state.project.notes}),r.a.createElement("meta",{property:"og:image",content:"https://www.allanpichardo.com".concat(this.state.project.cover_image)})),r.a.createElement("div",{className:"ProjectDetails-section"},r.a.createElement("div",{className:"ProjectDetails-title"},r.a.createElement("h1",null,r.a.createElement("mark",null,this.state.project.name))),r.a.createElement("div",{className:"projectDetails-subtitle"},r.a.createElement("h2",null,r.a.createElement("mark",null,this.state.project.subtitle)),this.state.project.link?r.a.createElement("h2",null,r.a.createElement("mark",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:this.state.project.link},this.state.project.link))):r.a.createElement("span",null)),r.a.createElement("div",{className:"ProjectDetails-background1"}),r.a.createElement("div",{className:"ProjectDetails-video1"},r.a.createElement("div",{className:"ProjectDetails-aspect-ratio"},r.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(this.state.project.youtube_video_id),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))),r.a.createElement("div",{className:"ProjectDetails-description1"},r.a.createElement("p",null,r.a.createElement("mark",null,this.state.project.description_1))),r.a.createElement("div",{className:"ProjectDetails-background2"}),r.a.createElement("div",{className:"ProjectDetails-video2"},r.a.createElement("video",{muted:!0,autoPlay:!0,loop:!0,src:j.getResourcePath(this.state.project.media_dir,this.state.project.video2)})),r.a.createElement("div",{className:"ProjectDetails-description2"},r.a.createElement("p",null,r.a.createElement("mark",null,this.state.project.description_2))))):r.a.createElement("div",null)}}]),a}(r.a.Component),S=(a(48),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={about:"",video:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this;j.fetchInfo((function(a,n){a?console.log(a):t.setState({about:n.about,video:j.getResourcePath(n.about_media_dir,n.about_bg),resume_path:n.resume_path},(function(){t.props.onBackgroundLoaded&&t.props.onBackgroundLoaded(e.state.video)}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"About"},r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("mark",null,"Allan Pichardo")),r.a.createElement("mark",null,r.a.createElement("a",{href:this.state.resume_path,target:"_blank"},"\ud83d\udcbe Resume"))),r.a.createElement("p",null,r.a.createElement("mark",null,this.state.about)),r.a.createElement("p",null))}}]),a}(r.a.Component)),N=(a(49),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={email:"",subject:"",body:"",isSent:!1,error:""},n.contactError=r.a.createRef(),n.handleEmailChange=n.handleEmailChange.bind(Object(s.a)(n)),n.handleSubjectChange=n.handleSubjectChange.bind(Object(s.a)(n)),n.handleBodyChange=n.handleBodyChange.bind(Object(s.a)(n)),n.handleSendClicked=n.handleSendClicked.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"handleBodyChange",value:function(e){this.setState({body:e.target.value})}},{key:"handleSendClicked",value:function(e){e.preventDefault(),this.contactError.current.style.display="none";var t=this;j.sendEmail(this.state.email,this.state.subject,this.state.body,(function(e,a){e?t.setState({isSent:!1,error:e.message},(function(){t.contactError.current.style.display="block",t.contactError.current.style.visibility="visible"})):t.setState({isSent:a.success,error:a.message},(function(){a.success||(t.contactError.current.style.display="block",t.contactError.current.style.visibility="visible")}))}))}},{key:"isValid",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"Contact"},r.a.createElement("div",{className:"Contact-message"},r.a.createElement("h1",null,r.a.createElement("mark",null,"Let's get in touch"))),r.a.createElement("div",{className:"Contact-form"},this.state.isSent?r.a.createElement("div",{className:"Contact-success"},r.a.createElement("h3",null,r.a.createElement("mark",null,"Message Sent!"))):r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"sender"},r.a.createElement("mark",null,"From")),r.a.createElement("br",null),r.a.createElement("input",{type:"email",onChange:this.handleEmailChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"sender"},r.a.createElement("mark",null,"Subject")),r.a.createElement("br",null),r.a.createElement("input",{type:"text",onChange:this.handleSubjectChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"subject"},r.a.createElement("mark",null,"Message")),r.a.createElement("br",null),r.a.createElement("textarea",{onChange:this.handleBodyChange}),r.a.createElement("br",null),r.a.createElement("div",{className:"Contact-error",ref:this.contactError},r.a.createElement("p",null,r.a.createElement("mark",null,"\xa0",r.a.createElement("span",{className:"material-icons"},"error_outline"),"\xa0Something went wrong:\xa0",this.state.error))),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleSendClicked},"\xa0Send!\xa0"))))}}]),a}(r.a.Component)),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).backgroundVideo=r.a.createRef(),n.handlePanelInView=n.handlePanelInView.bind(Object(s.a)(n)),n.handleProjectSelected=n.handleProjectSelected.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"handlePanelInView",value:function(e){console.log(e);var t=this.backgroundVideo.current;e?t.style.opacity>0?(t.style.opacity=0,t.ontransitionend=function(){t.style.opacity=1,t.src=e,t.type="video/mp4",t.ontransitionend=function(){}}):(t.src=e,t.type="video/mp4",t.style.opacity=1):(t.style.opacity=0,t.src="")}},{key:"handleProjectSelected",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App",id:"mainView"},r.a.createElement("video",{className:"App-video",muted:!0,loop:!0,autoPlay:!0,ref:this.backgroundVideo}),r.a.createElement("div",{className:"App-header"},r.a.createElement(k,null)),r.a.createElement("div",{className:"App-body"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(g,Object.assign({onPanelInView:e.handlePanelInView},t))}}),r.a.createElement(m.a,{exact:!0,path:"/about",render:function(t){return r.a.createElement(S,Object.assign({onBackgroundLoaded:e.handlePanelInView},t))}}),r.a.createElement(m.a,{exact:!0,path:"/contact",render:function(e){return r.a.createElement(N,e)}}),r.a.createElement(m.a,{exact:!0,path:"/projects/:name",render:function(e){return r.a.createElement(O,e)}}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.hydrate(r.a.createElement(h.a,{forceRefresh:!0},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.732ffbb7.chunk.js.map